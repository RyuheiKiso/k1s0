<Project>
  <!-- Exclude tests/ subdirectory from main library project compilation -->
  <ItemGroup Condition="'$(IsTestProject)' != 'true'">
    <Compile Remove="tests/**" />
  </ItemGroup>
  <!-- System.Text disambiguation: K1s0.System.* namespaces can shadow System.Text -->
  <ItemGroup>
    <Using Include="System.Text" />
  </ItemGroup>
  <PropertyGroup Condition="'$(IsTestProject)' == 'true'">
    <!-- Only audit direct dependencies in test projects to avoid false positives from transitive deps -->
    <NuGetAuditMode>direct</NuGetAuditMode>
    <!-- Disable StyleCop and code style enforcement in test projects -->
    <EnforceCodeStyleInBuild>false</EnforceCodeStyleInBuild>
  </PropertyGroup>
  <ItemGroup Condition="'$(IsTestProject)' == 'true'">
    <!-- Remove StyleCop from test projects -->
    <PackageReference Remove="StyleCop.Analyzers" />
    <Using Include="Xunit" />
    <PackageReference Include="coverlet.collector">
      <PrivateAssets>all</PrivateAssets>
      <IncludeAssets>runtime; build; native; contentfiles; analyzers</IncludeAssets>
    </PackageReference>
  </ItemGroup>
</Project>
