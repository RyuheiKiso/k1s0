version: v2
plugins:
  # Go
  - remote: buf.build/protocolbuffers/go
    out: gen/go
    opt:
      - paths=source_relative
  - remote: buf.build/grpc/go
    out: gen/go
    opt:
      - paths=source_relative

  # Rust (tonic/prost) - Rust は tonic-build (build.rs) で生成するため buf では対象外。
  # TypeScript (grpc-web or connect-es) - 必要に応じて追加。
managed:
  enabled: true
  override:
    - file_option: go_package_prefix
      value: github.com/k1s0-platform/system-proto-go
