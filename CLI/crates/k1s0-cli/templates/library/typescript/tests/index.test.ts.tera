import { describe, it, expect } from 'vitest';
import { Client, AppError, validate } from '../src/index';

describe('{{ service_name }}', () => {
  it('should create a client', () => {
    const client = new Client({ name: 'test' });
    expect(client).toBeDefined();
    expect(client.name).toBe('test');
  });

  it('should throw AppError on invalid config', () => {
    expect(() => validate({ name: '' })).toThrow(AppError);
  });

  it('should pass validation with valid config', () => {
    expect(() => validate({ name: 'valid' })).not.toThrow();
  });

  it('should have error code', () => {
    const error = new AppError('TEST', 'test error');
    expect(error.code).toBe('TEST');
    expect(error.message).toBe('test error');
  });
});
