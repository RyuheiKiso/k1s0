import Testing
@testable import K1s0{{ service_name_pascal }}

@Suite("{{ service_name_pascal }}Client Tests")
struct {{ service_name_pascal }}ClientTests {
    @Test("クライアントを正常に作成できること")
    func testClientCreation() {
        let config = {{ service_name_pascal }}Config(name: "test")
        let client = {{ service_name_pascal }}Client(config: config)
        #expect(client.name == "test")
    }

    @Test("空の名前でバリデーションエラーが発生すること")
    func testValidateThrowsOnEmptyName() {
        let config = {{ service_name_pascal }}Config(name: "")
        #expect(throws: LibError.self) {
            try config.validate()
        }
    }

    @Test("有効な名前でバリデーションが通ること")
    func testValidatePassesWithValidName() throws {
        let config = {{ service_name_pascal }}Config(name: "valid")
        try config.validate()
    }

    @Test("エラーの説明が正しいこと")
    func testLibErrorDescription() {
        let error = LibError.invalidConfig("test error")
        #expect(error.description.contains("INVALID_CONFIG"))
        #expect(error.description.contains("test error"))
    }
}
