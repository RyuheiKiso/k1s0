# .pre-commit-config.yaml
repos:
  - repo: local
    hooks:
      - id: go-lint
        name: Go Lint
        entry: golangci-lint run
        language: system
        files: '\.go$'
        pass_filenames: false

      - id: rust-fmt
        name: Rust Format Check
        entry: cargo fmt -- --check
        language: system
        files: '\.rs$'
        pass_filenames: false

      - id: rust-clippy
        name: Rust Clippy
        entry: cargo clippy -- -D warnings
        language: system
        files: '\.rs$'
        pass_filenames: false

      - id: ts-lint
        name: TypeScript Lint
        entry: npx eslint
        language: system
        files: '\.[tj]sx?$'

      - id: prettier
        name: Prettier
        entry: npx prettier --check
        language: system
        files: '\.(ts|tsx|js|jsx|json|yaml|yml)$'

      - id: dart-analyze
        name: Dart Analyze
        entry: dart analyze --fatal-infos
        language: system
        files: '\.dart$'
        pass_filenames: false

      - id: dart-format
        name: Dart Format Check
        entry: dart format --set-exit-if-changed
        language: system
        files: '\.dart$'

      - id: python-lint
        name: Python Lint
        entry: ruff check
        language: system
        files: '\.py$'

      - id: swift-format
        name: Swift Format Check
        entry: swift-format lint --recursive
        language: system
        files: '\.swift$'
        pass_filenames: false

      - id: dotnet-format
        name: dotnet format
        entry: bash -c 'for proj in regions/system/library/csharp/*/K1s0.System.*.csproj; do [ -f "$proj" ] && dotnet format "$proj" --verify-no-changes; done'
        language: system
        files: '\.cs$'
        pass_filenames: false

      - id: dotnet-build
        name: dotnet build
        entry: bash -c 'for proj in regions/system/library/csharp/*/K1s0.System.*.csproj; do [ -f "$proj" ] && dotnet build "$proj" -c Release --no-restore; done'
        language: system
        files: '\.cs$'
        pass_filenames: false
